#!/usr/bin/env bash

# Brand new script. Exit codes 4, 3, and 2 are NOT ROBUST. Don't depend on them.

[[ $# -lt 3 ]] &&
  { echo >&2 "Usage: $(basename $0) \"\$TTY\" \"\$TMUX\" \"\$SSH_TTY\""; exit 1; }

if [[ $1 = *tty* ]]; then
  exit 4
elif [[ $2 = *tmux* ]]; then
  exit 3
elif [[ "$3" ]]; then
  exit 2
else
  exit 0
fi
