#!/usr/bin/env bash

cd "$HOME/.dcp"
git checkout master
git fetch origin
git rebase origin/master

if [[ -d "$HOME/.oh-my-zsh" ]]; then
  cd "$HOME/.oh-my-zsh"
  git fetch origin
  git rebase origin/master

  if [[ -d "$HOME/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting" ]]; then
    cd "$HOME/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting"
    git fetch origin
    git rebase origin/master
  else
    mkdir -p "$HOME/.oh-my-zsh/custom/plugins"
    cd "$HOME/.oh-my-zsh/custom/plugins"
    git clone git://github.com/zsh-users/zsh-syntax-highlighting.git
  fi
fi

cd "$HOME/.vim"
git checkout master
git fetch origin
git rebase origin/master
git submodule update --init

~/.dcp/bin/dcp-install-links
