#!/usr/bin/env bash

for file in ${HOME}/.dcp/dot/* ${HOME}/.vim/*rc; do
  if [[ -s "${HOME}/.$(basename ${file})" ]]; then
    echo "${HOME}/.$(basename ${file}) already exists, not linking."
  else
    echo "Linking ${HOME}/.$(basename ${file}) => ${file}"
    ln -s "${file}" "${HOME}/.$(basename ${file})"
  fi
done

rm -f "${HOME}/.profile"

if hash git 2>&-; then
  git config --global core.editor vim
  git config --global color.ui true
  git config --global core.excludesfile ~/.gitignore_global
  git config --global push.default matching

  [[ "$(uname)" = "Darwin" ]] &&
    git config --global core.trustctime false
fi
